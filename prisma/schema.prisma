
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGO_DB_URL")
}

type Permission {
  id       String
  name     String
  resource String
  action   String
}

model Role {
  id          String       @id @default(auto()) @map("_id") @db.ObjectId
  name        String       @unique
  description String
  permissions Permission[]
  User        User[]

  @@map("roles")
}

model User {
  id                      String    @id @default(auto()) @map("_id") @db.ObjectId
  fullname                String
  email                   String    @unique
  current_password        String
  roleId                  String    @db.ObjectId
  role                    Role      @relation(fields: [roleId], references: [id])
  status                  String
  created_at              DateTime
  updated_at              DateTime
  verificationCode        String
  verificationCodeExpires DateTime
  resetPasswordToken      String?
  expiresTokenPasswordAt  DateTime?

  @@map("users")
}
